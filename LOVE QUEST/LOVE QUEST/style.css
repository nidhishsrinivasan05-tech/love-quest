/* v5: Unique note UI + silhouette scene + YES/NO effects */
:root{
  --white:#ffffff;
  --ink:#251a1e;

  --rose:#ff3b6b;
  --pink:#ff8cab;
  --blush:#ffd1dc;

  --bgA:#ffffff;
  --bgB:#ffe9f0;
  --bgC:#ffd1dc;

  --card:#ffffffcc;
  --stroke:#ffffff80;

  --shadow: 0 30px 80px #0000001a;
  --pop: 1;
  --saturation: 1;
}

*{box-sizing:border-box}
html,body{height:100%}

body{
  margin:0;
  font-family:"Quicksand", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--ink);
  background: radial-gradient(1200px 700px at 10% 10%, var(--bgA), var(--bgB) 40%, var(--bgC) 100%);
  overflow-x:hidden;
  transition: filter .55s ease, background .55s ease;
  filter: saturate(var(--saturation));
}

body.mode-yes{
  --bgA:#ffffff;
  --bgB:#fff3f7;
  --bgC:#ffb9cd;
  --pop: 1.06;
  --saturation: 1.14;
}

body.mode-no{
  --bgA:#0f0b10;
  --bgB:#1b0f18;
  --bgC:#2c1623;
  --card:#1b1218cc;
  --stroke:#ffffff22;
  --ink:#ffe9f0;
  --saturation: 0.85;
}

.bg{position:fixed; inset:0; pointer-events:none; overflow:hidden;}
.dark-vignette{
  position:absolute; inset:-40px;
  background: radial-gradient(900px 500px at 20% 20%, transparent 10%, rgba(0,0,0,0.18) 70%, rgba(0,0,0,0.35) 100%);
  opacity:0;
  transition: opacity .55s ease;
}
body.mode-no .dark-vignette{opacity:1;}

.soft-orb{
  position:absolute;
  width:520px; height:520px;
  border-radius:999px;
  filter: blur(30px);
  opacity:.55;
  mix-blend-mode:multiply;
  transform: translateZ(0);
  animation: drift 10s ease-in-out infinite;
}
.orb1{left:-120px; top:-140px; background:radial-gradient(circle, #ffffff 0%, #ffd1dc 40%, transparent 70%);}
.orb2{right:-180px; top:120px; background:radial-gradient(circle, #ffffff 0%, #ffe7ef 35%, transparent 70%); animation-duration:12s;}
.orb3{left:40%; bottom:-220px; background:radial-gradient(circle, #ff8cab 0%, #ffd1dc 45%, transparent 72%); animation-duration:14s;}
body.mode-no .orb1, body.mode-no .orb2, body.mode-no .orb3{opacity:.22;}

@keyframes drift{
  0%{transform: translate(0,0) scale(1);}
  50%{transform: translate(20px, -18px) scale(1.05);}
  100%{transform: translate(0,0) scale(1);}
}

.wrap{
  position:relative;
  min-height:100%;
  display:flex;
  flex-direction:column;
  gap:16px;
  padding:22px;
  max-width:1100px;
  margin:0 auto;
}

.topbar{display:flex; align-items:center; justify-content:flex-start; padding:10px 6px;}
.brand{display:flex; align-items:baseline; gap:10px; flex-wrap:wrap;}
.rose-dot{
  width:12px; height:12px; border-radius:99px;
  background: linear-gradient(135deg, var(--rose), var(--pink));
  box-shadow:0 10px 25px #ff3b6b40;
}
.brand-title{font-family:"DM Serif Display", serif; font-size:22px; letter-spacing:.3px;}
.brand-sub{font-size:12px; opacity:.75; transform: translateY(-1px);}

.card{
  position:relative;
  background:var(--card);
  border:1px solid var(--stroke);
  border-radius:26px;
  box-shadow: var(--shadow);
  overflow:hidden;
  display:grid;
  grid-template-columns: 1.05fr .95fr;
  gap:0;
  transform: scale(var(--pop));
  transform-origin: top center;
  transition: transform .55s ease, background .55s ease, border-color .55s ease;
}
.card.single{grid-template-columns:1fr;}

.card-left{
  padding:28px 26px 26px;
  display:flex;
  flex-direction:column;
  gap:14px;
}

.headline h1{
  margin:0;
  font-family:"DM Serif Display", serif;
  font-size: clamp(34px, 3.6vw, 52px);
  letter-spacing:.2px;
}
.headline p{
  margin:10px 0 0;
  font-size: clamp(14px, 1.6vw, 18px);
  line-height:1.55;
  opacity:.9;
}

.action-row{display:flex; flex-wrap:wrap; gap:10px; margin-top:6px;}

.btn{
  border:none;
  cursor:pointer;
  border-radius:16px;
  padding:12px 16px;
  display:inline-flex;
  align-items:center;
  gap:10px;
  font-weight:800;
  letter-spacing:.2px;
  color:var(--white);
  background: linear-gradient(135deg, var(--rose), var(--pink));
  box-shadow:0 18px 45px #ff3b6b3a;
  transition: transform .12s ease, filter .12s ease, opacity .12s ease;
}
.btn:hover{transform: translateY(-1px); filter:brightness(1.02);}
.btn:active{transform: translateY(0px) scale(.99);}
.btn:disabled{opacity:.45; cursor:not-allowed;}
.btn.ghost{
  background:#ffffffa6;
  color:#2a1d22;
  border:1px solid var(--stroke);
  box-shadow:0 12px 35px #00000010;
}
body.mode-no .btn.ghost{
  background:#2a1b23;
  color:#ffe9f0;
  border:1px solid #ffffff22;
}

/* Unique note UI (different from v4 box) */
.note-wrap{
  position:relative;
  margin-top:4px;
  border-radius:26px;
  padding:16px;
  border:1px solid var(--stroke);
  background:
    radial-gradient(800px 260px at 8% 10%, #ffffff, #fff1f6 45%, #ffe7ef 100%);
  box-shadow:0 26px 70px #00000012;
  overflow:hidden;
}
body.mode-no .note-wrap{
  background:
    radial-gradient(800px 260px at 8% 10%, #1b1218, #23111b 45%, #2c1623 100%);
}

.note-wrap::before{
  content:"";
  position:absolute; inset:-2px;
  border-radius:28px;
  padding:2px;
  background: linear-gradient(120deg, rgba(255,59,107,.55), rgba(255,140,171,.35), rgba(255,255,255,.55));
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity:.85;
  pointer-events:none;
}

.note-top{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  margin-bottom:10px;
}
.wax{
  width:44px; height:44px;
  border-radius:999px;
  display:grid;
  place-items:center;
  font-weight:900;
  color:#fff;
  background: radial-gradient(circle at 30% 30%, #ff7aa0, #ff3b6b 55%, #c81f49 100%);
  box-shadow:0 18px 45px #ff3b6b33;
  transform: rotate(-8deg);
}
.note-lines{
  flex:1;
  height:10px;
  border-radius:999px;
  background: linear-gradient(90deg, rgba(255,59,107,.22), rgba(255,255,255,.0));
  opacity:.75;
}
.note-body{
  font-weight:800;
  font-size:15px;
  line-height:1.75;
  white-space:pre-line;
  opacity:.96;
}
.note-bottom{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-top:12px;
}
.sig{
  font-family:"DM Serif Display", serif;
  font-size:14px;
  opacity:.85;
}
.shine{
  width:110px;
  height:10px;
  border-radius:999px;
  background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,.75), rgba(255,255,255,0));
  opacity:.55;
  animation: shine 2.6s ease-in-out infinite;
}
@keyframes shine{
  0%,100%{transform: translateX(-10px); opacity:.25;}
  50%{transform: translateX(10px); opacity:.65;}
}
body.mode-no .shine{opacity:.12;}

/* Right panel */
.card-right{
  padding:18px;
  background: radial-gradient(900px 380px at 50% 10%, #ffffff, #ffe7ef 55%, #ffd1dc 100%);
  border-left:1px solid #ffffff70;
  transition: background .55s ease, border-color .55s ease;
}
body.mode-no .card-right{
  background: radial-gradient(900px 380px at 50% 10%, #1b1218, #23111b 55%, #2c1623 100%);
  border-left:1px solid #ffffff22;
}

.scene{height:100%; display:flex; flex-direction:column; gap:10px;}
.scene svg{
  width:100%;
  height:auto;
  border-radius:22px;
  border:1px solid #ffffff80;
  box-shadow:0 26px 70px #00000018;
  background:transparent;
  transition: opacity .55s ease, filter .55s ease;
}
body.mode-no .scene svg{border:1px solid #ffffff22; opacity:.92;}

.final-ui{
  width:100%;
  border-radius:18px;
  background:#ffffffb0;
  border:1px solid var(--stroke);
  box-shadow:0 16px 45px #00000010;
  padding:12px;
}
body.mode-no .final-ui{
  background:#1b1218b0;
  border:1px solid #ffffff22;
}

.question{font-weight:900; font-size:14px; opacity:.95; margin-bottom:10px; text-align:center;}
.yn{display:flex; gap:10px; justify-content:center; flex-wrap:wrap;}
.btn.yes{min-width:130px;}
.btn.ghost.no{min-width:130px;}

/* Instagram CTA */
.ig-cta{
  margin-top:12px;
  border-radius:16px;
  border:1px solid var(--stroke);
  background: radial-gradient(700px 240px at 10% 10%, #ffffff, #fff1f6);
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:8px;
  animation: popIn .35s ease;
}
body.mode-no .ig-cta{display:none;}
.ig-title{font-weight:900;}
.ig-sub{opacity:.88; font-weight:700;}
.ig-btn{
  display:inline-flex;
  gap:10px;
  align-items:center;
  justify-content:center;
  padding:10px 12px;
  border-radius:14px;
  text-decoration:none;
  color:#2a1d22;
  background:#ffffffc8;
  border:1px solid var(--stroke);
  box-shadow:0 14px 40px #00000012;
  font-weight:900;
}
.ig-btn:hover{filter:brightness(1.02); transform: translateY(-1px);}
.ig-btn:active{transform: translateY(0px) scale(.99);}
.ig-btn .ig-icon{
  width:36px; height:36px;
  border-radius:12px;
  display:grid; place-items:center;
  color:#fff;
  background: linear-gradient(135deg, #ff3b6b, #ff8cab);
  box-shadow:0 14px 35px #ff3b6b35;
}

/* Floating layers */
.sparkle-field, .balloon-layer, .heart-layer, .gift-layer{position:absolute; inset:0;}
.float{position:absolute; will-change: transform, opacity; filter: drop-shadow(0 10px 16px #00000014);}

@keyframes floatUp{
  0%{transform: translateY(40px) translateX(0) scale(1); opacity:0;}
  12%{opacity:.9;}
  100%{transform: translateY(-120vh) translateX(var(--drift, 20px)) scale(var(--scale, 1)); opacity:0;}
}
@keyframes twinkle{
  0%,100%{opacity:.12; transform: scale(.9);}
  50%{opacity:.6; transform: scale(1.1);}
}

@keyframes popIn{
  0%{transform: scale(.86); opacity:0;}
  100%{transform: scale(1); opacity:1;}
}

/* YES: handover gift + brighten + gentle crackers */
body.mode-yes #boy{transition: transform .95s cubic-bezier(.2,.8,.2,1);}
body.mode-yes #gift{transition: transform .95s cubic-bezier(.2,.8,.2,1);}
body.mode-yes #boy{transform: translate(130px,228px) !important;}
body.mode-yes #gift{transform: translate(300px,132px) !important;}

/* NO: turn away + sad emoji */
body.mode-no #boy{transform: translate(40px,240px) rotate(-6deg) !important; opacity:.92;}
body.mode-no #girl{transform: translate(380px,230px) rotate(6deg) !important; opacity:.92;}
body.mode-no #gift{opacity:0 !important;}
body.mode-no #boyEmoji, body.mode-no #girlEmoji{display:block !important;}

@media (max-width: 920px){
  .card{grid-template-columns:1fr;}
  .card-right{border-left:none; border-top:1px solid #ffffff70;}
  body.mode-no .card-right{border-top:1px solid #ffffff22;}
}
